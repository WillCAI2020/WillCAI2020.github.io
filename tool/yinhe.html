<!doctype html><html><head><meta charset="utf-8"><title> 银河涂鸦</title><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/WillCAI2020/cdn@1.1.6/images/tool/favicon-32x32.png"><style>body,html{margin:0;padding:0;overflow:hidden}canvas{background:#000}#info{position:absolute;color:#fff;top:50%;left:50%;transform:translate(-50%,-50%);font-size:20px;background:#272727;padding:10px 20px;border-radius:100px;text-align:center;line-height:30px}</style><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?a1d95bbe06c4da1f17d3238650f2dec5";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body><script src="https://cdn.jsdelivr.net/gh/WillCAI2020/cdn@1.3.0/js/tool/yinhe/dat.gui.min.js"></script><div id="info"> 使用 "左键单击" 进行绘制<br> 光标速度会影响笔的大小。</div><script>var w=window.innerWidth,h=window.innerHeight;window.onresize=function(){w=ctx.canvas.width=window.innerWidth,h=ctx.canvas.height=window.innerHeight};var canvas=document.createElement("canvas");document.body.appendChild(canvas),canvas.width=w,canvas.height=h;var ctx=canvas.getContext("2d");mix_Red=80,mix_Green=140,mix_Blue=220,opacity=.15,smoke_Size=5,select={Compositing:"lighter"};var controls=new function(){this.mix_Red=mix_Red,this.mix_Green=mix_Green,this.mix_Blue=mix_Blue,this.opacity=opacity,this.smoke_Size=smoke_Size,this.redraw=function(){mix_Red=controls.mix_Red,mix_Green=controls.mix_Green,mix_Blue=controls.mix_Blue,opacity=controls.opacity,smoke_Size=controls.smoke_Size,ctx.globalCompositeOperation=Object.values(select)[0]}},obj={CLEAR_CANVAS:function(){ctx.clearRect(0,0,w,h)}},gui=new dat.GUI({resizable:!1});gui.add(controls,"mix_Red",0,255).step(1).onChange(controls.redraw),gui.add(controls,"mix_Green",0,255).step(1).onChange(controls.redraw),gui.add(controls,"mix_Blue",0,255).step(1).onChange(controls.redraw),gui.add(controls,"opacity",0,1).onChange(controls.redraw),gui.add(controls,"smoke_Size",1,20).onChange(controls.redraw),gui.add(select,"Compositing",{Screen:"screen",Overlay:"overlay",Color_Dodge:"color-dodge",Color_Burn:"color-burn",Hard_Light:"hard-light",Soft_Light:"soft-light",Difference:"difference",Exclusion:"exclusion",Hue:"hue",Saturation:"saturation",Color:"color",Luminosity:"luminosity",Ligher:"lighter",Darker:"darker",Multiply:"multiply"}).onChange(controls.redraw),gui.add(obj,"CLEAR_CANVAS"),ctx.fillStyle="#000000",ctx.fillRect(0,0,w,h),ctx.globalCompositeOperation="lighter";var randomNumbers=function(e){return Array.from(new Array(e),function(){return Math.random()})},TAU=2*Math.PI,createSmokeParticle=function(){var e=document.createElement("canvas");e.width=100,e.height=100;var i=e.getContext("2d");e.ctx=i;var c=10*Math.random()-5,s=10*Math.random()-5,d=10+25*Math.random(),l=10+25*Math.random(),o=mix_Red,t=mix_Green,a=mix_Blue;return i.fillStyle="rgba("+o+","+t+","+a+","+opacity+")",Array.from(new Array(200),function(){return randomNumbers(3)}).forEach(function(e,o,t){var a=t.length,n=Math.cos(TAU/c/a*o)*e[2]*d+50,r=Math.sin(TAU/s/a*o)*e[2]*l+50;i.beginPath(),i.moveTo(n,r),i.arc(n,r,4*e[2],0,TAU),i.fill()}),e},Particle=function(){var e=this;e.osc1={osc:0,val:0,freq:Math.random()},e.osc2={osc:0,val:0,freq:Math.random()},e.counter=0,e.x=mousePos.x,e.y=mousePos.y,e.size=100*Math.random(),e.growth=Math.random()/20,e.life=Math.random(),e.opacity=Math.random()/5,e.speed={x:Math.random(),y:Math.random()},e.texture=createSmokeParticle(),e.rotationOsc=Math.round(Math.random())?"osc1":"osc2"},particles=[],update=function(){particles.forEach(function(e,o){e.x=mousePos.x,e.y=mousePos.y,e.size=Math.sqrt(Math.pow(e.x-e.ox,2)+Math.pow(e.y-e.oy,2))*smoke_Size,e.counter+=.01,e.growth=Math.sin(e.life),e.life-=.001,e.osc1.osc=Math.sin(e.osc1.val+=e.osc1.freq),e.osc2.osc=Math.cos(e.osc2.val+=e.osc2.freq),e.ox=e.x,e.oy=e.y})},render=function(){particles.forEach(function(e){ctx.save(),ctx.globalAlpha=e.opacity/(e.size/50),ctx.translate(e.x,e.y),ctx.rotate(Math.random()*TAU),ctx.drawImage(e.texture,0-e.size/2,0-e.size/2,e.size,e.size),ctx.globalAlpha=1,ctx.beginPath(),ctx.fillStyle="rgba("+(155+Math.round(100*Math.random()))+","+(155+Math.round(100*Math.random()))+","+(155+Math.round(100*Math.random()))+","+Math.random()+")",ctx.arc(Math.random()*e.size,Math.random()*e.size,Math.random(),0,TAU),ctx.fill(),ctx.restore()})},loop=function e(){update(),render(),window.requestAnimationFrame(e)},mousePos={x:0,y:0},drawingMode=!1,activateDraw=function(e){drawingMode=!0,particles=Array.from(new Array(10),function(){return new Particle}),draw(e)},disableDraw=function(e){drawingMode=!1,particles=[]},draw=function(e){drawingMode&&particles.forEach(function(e){})};canvas.addEventListener("mousedown",activateDraw),canvas.addEventListener("mousemove",function(e){mousePos.x=e.layerX,mousePos.y=e.layerY,draw(e)}),canvas.addEventListener("mouseup",disableDraw),canvas.addEventListener("touchstart",activateDraw),canvas.addEventListener("touchmove",function(e){mousePos.x=e.touches[0].clientX,mousePos.y=e.touches[0].clientY,draw(e)}),canvas.addEventListener("touchend",disableDraw),loop(),window.onload=function(){setTimeout(function(){document.getElementById("info").style.display="none"},3e3)}</script></body></html>